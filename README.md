# React-Autosuggest

## Usage:

```
<AutoSuggest name="Make" url=""https://ntsb-server.herokuapp.com/api/accidents/makeList""/>
```

## AutoSuggest props:
| propName | Description |
| --- | --- |
| **name** | name used for the autosuggest input label and the ids of nested elements |
| **url** | endpoint to query to generate the suggestions list.  Component expects the url to accept input text as a parameter, not query.<br><br>Example:<br>With "https://ntsb-server.herokuapp.com/api/accidents/makeList" as the url,<br>if a user typed 'Bo' into the input field, a request would be sent to<br>https://ntsb-server.herokuapp.com/api/accidents/makeList/Bo) |
| **debounceTime** | The amount of milliseconds to wait before sending requests to url based on input |
| **styles** |  An object to customize the appearance of the AutoSuggest component |


## AutoSuggest Default Props
| propName | type | defaultValue |
| --- | --- | --- |
| **name** | string | "Search" |
| **url** | string | "" |
| **debounceTime** | number | 500 |
| **styles** | object | <pre> {<br>    announcement: {<br>      position: "absolute",<br>      clip: "rect(0 0 0 0)",<br>      clipPath: "inset(50%)",<br>      height: "1px",<br>      width: "1px",<br>      overflow: "hidden",<br>    },<br>    combobox: {<br>      display: "inline-block",<br>    },<br>    searchField: {<br>      padding: ".5rem",<br>      border: "2px solid #c8c8c8",<br>      backgroundColor: "#fff",<br>      borderRadius: "6px",<br>      color: "#000",<br>      fontWeight: "normal",<br>      fontSize: "1.35rem",<br>      margin: "0 auto",<br>      width: "19rem",<br>      focus: {<br>        color: "#000",<br>        border: "2px solid #005499",<br>        outline: "none",<br>      },<br>    },<br>    searchLabel: {<br>      display: "block",<br>      fontSize: "1.35rem",<br>    },<br>    suggestionsContainer: {<br>      display: "block",<br>      position: "absolute",<br>      border: "1px solid #999",<br>      background: "#fff",<br>      width: "20rem",<br>    },<br>    suggestionOptions: {<br>      margin: "0",<br>      padding: "0",<br>      listStyle: "none",<br>    },<br>    suggestionOption: {<br>      margin: "0",<br>      padding: ".5rem",<br>      fontSize: "1.35rem",<br>      whiteSpace: "nowrap",<br>      overflow: "hidden",<br>      cursor: "default",<br>    },<br>  } </pre> |

## What is actually generated by AutoSuggest

```
<div id={`{name}-announcement`} class="visually-hidden" aria-live="assertive" style={styles.announcement}>
    // When options become available, the text content becomes `${numberOfOptions} suggestions displayed.  To navigate use up and down arrow keys`
</div>
<div>
    <div id={`{name}-searchField`} role="combobox" aria-exapnded={searching ? "true" : "false"} aria-owns={`${name}-input`} aria-haspopup="listbox" style={styles.combobox}>
        <label for={`${name}-input`} style={styles.searchLabel}>{name}</label>
        <input id={`${name}-input`} type="text" class="searchField" autocomplete="off" aria-autocomplete="both" style={styles.searchField}>
        // Note that when values appear and are selected via keyboard, the aria-activedescendant on the input field is given the id of the selected option
    </div>
    <div class="autocompleteSuggestions" id={`${name}-autocomplete`} style={{...styles.suggestionsContainer, display: searching ? "block" : "none"}>
        // When the state is set to searching, this div becomes visible, as do its children:
        <ul role="listbox" id={`${name}-autosuggest-options`}>
            <li role="option" class="auto-suggestions" id={`${name}-suggestion-${index}`}>{option}</li>
        </ul>
    </div>
</div>
```

### Example:
With a component like this:

`<AutoSuggest name="Make" url="https://ntsb-server.herokuapp.com/api/accidents/makeList">`

If the user entered "brau" into the input field:

```
<div id="Make-announcement" class="visually-hidden" aria-live="assertive" style={styles.announcement}>
    4 suggestions displayed.  To navigate use up and down arrow keys
</div>
<div>
    <div id="Make-searchField" role="combobox" aria-exapnded="true" aria-owns="Make-input" aria-haspopup="listbox" style={styles.combobox}>
        <label for="Make-input" style={styles.searchLabel}>Make</label>
        <input id="Make-input" type="text" class="searchField" autocomplete="off" aria-autocomplete="both" style={styles.searchField}>
    </div>
    <div class="autocompleteSuggestions" id="Make-autocomplete" style={{...styles.suggestionsContainer, display: block}>
        // When the state is set to searching, this div becomes visible, as do its children:
        <ul role="listbox" id="Make-autosuggest-options">
            <li role="option" class="auto-suggestions" id="Make-suggestion-1>BRAUCH</li>
            <li role="option" class="auto-suggestions" id="Make-suggestion-2>BRAULT GLASAIR</li>
            <li role="option" class="auto-suggestions" id="Make-suggestion-3>Brault</li>
            <li role="option" class="auto-suggestions" id="Make-suggestion-4>Braunschmidt</li>
        </ul>
    </div>
</div>
```
